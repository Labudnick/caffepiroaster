PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE roast_status ( id           INTEGER PRIMARY KEY AUTOINCREMENT, roast_log_id INTEGER, time         STRING DEFAULT '00:00', temp_read    REAL, temp_set     REAL, status       INTEGER DEFAULT 0, heating      INTEGER DEFAULT 0);
INSERT INTO "roast_status" VALUES(1,'','00:00',138.51,225.0,0,0);
CREATE TABLE roast_log ( id INTEGER PRIMARY KEY AUTOINCREMENT, date_time DATETIME DEFAULT (datetime('now','localtime')), coffee_name STRING, roast_size STRING, beans_size INTEGER, description STRING);
INSERT INTO "roast_log" VALUES(1,'2017-06-02 20:10:49','',100,'small','');
INSERT INTO "roast_log" VALUES(2,'2017-06-02 20:15:14','testowa kawa',100,'small','');
CREATE TABLE roast_details (id INTEGER PRIMARY KEY AUTOINCREMENT, time STRING, heating NUMBER, temp_read REAL, temp_set REAL, roast_log_id INTEGER, FOREIGN KEY (roast_log_id) REFERENCES roast_log(id));
INSERT INTO "roast_details" VALUES(1,'00:00',0,190.78,225.0,1);
INSERT INTO "roast_details" VALUES(2,'00:01',1,143.27,225.0,1);
INSERT INTO "roast_details" VALUES(3,'00:02',1,128.45,225.0,1);
INSERT INTO "roast_details" VALUES(4,'00:03',1,170.92,225.0,1);
INSERT INTO "roast_details" VALUES(5,'00:00',0,113.36,225.0,2);
INSERT INTO "roast_details" VALUES(6,'00:01',1,92.78,225.0,2);
INSERT INTO "roast_details" VALUES(7,'00:02',1,206.22,225.0,2);
INSERT INTO "roast_details" VALUES(8,'00:03',1,205.25,225.0,2);
CREATE TABLE parameters (id INTEGER PRIMARY KEY AUTOINCREMENT, name STRING, value STRING);
INSERT INTO "parameters" VALUES(1,'roast_temp_max',225);
DELETE FROM sqlite_sequence;
INSERT INTO "sqlite_sequence" VALUES('roast_status',1);
INSERT INTO "sqlite_sequence" VALUES('parameters',1);
INSERT INTO "sqlite_sequence" VALUES('roast_log',2);
INSERT INTO "sqlite_sequence" VALUES('roast_details',8);
CREATE INDEX idx_roast_details_fk ON roast_details(roast_log_id);
COMMIT;
